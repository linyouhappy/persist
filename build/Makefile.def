SRC_PATH=../src

OS=$(shell uname -s)
ifeq ("$(OS)", "Linux")
    CFLAGS+=-D__IS_LINUX__
else
    CFLAGS+=-U__IS_LINUX__
endif


BIN = persist
FILES = persist thread socket event/epoll event/kqueue
SRC = $(addsuffix .c, $(addprefix $(SRC_PATH)/, $(FILES)))
HEAD = $(addsuffix .h, $(addprefix $(SRC_PATH)/, $(FILES))) queue.h event/event.h

vpath %.c $(SRC_PATH)
vpath %.h $(SRC_PATH)
